Sending build context to Docker daemon  4.096kB
Step 1/10 : FROM debian:12-slim
 ---> 971072c49252
Step 2/10 : ARG DEBIAN_FRONTEND=noninteractive
 ---> Running in d57c5c35431f
Removing intermediate container d57c5c35431f
 ---> 094637e4e0a9
Step 3/10 : RUN apt update && apt install -y -q ldap-utils slapd
 ---> Running in 66df54806d77
[91m
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

[0mGet:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
Get:2 http://deb.debian.org/debian bookworm-updates InRelease [52.1 kB]
Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8787 kB]
Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [12.7 kB]
Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [134 kB]
Fetched 9185 kB in 1s (6125 kB/s)
Reading package lists...
Building dependency tree...
Reading state information...
All packages are up to date.
[91m
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

[0mReading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  krb5-locales libargon2-1 libgdbm-compat4 libgdbm6 libgssapi-krb5-2
  libk5crypto3 libkeyutils1 libkrb5-3 libkrb5support0 libldap-2.5-0
  libldap-common libltdl7 libnsl2 libodbc2 libperl5.36 libsasl2-2
  libsasl2-modules libsasl2-modules-db libssl3 libtirpc-common libtirpc3
  libwrap0 netbase perl perl-modules-5.36 psmisc
Suggested packages:
  libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal gdbm-l10n
  krb5-doc krb5-user odbc-postgresql tdsodbc sensible-utils
  libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql perl-doc
  libterm-readline-gnu-perl | libterm-readline-perl-perl make
  libtap-harness-archive-perl
The following NEW packages will be installed:
  krb5-locales ldap-utils libargon2-1 libgdbm-compat4 libgdbm6
  libgssapi-krb5-2 libk5crypto3 libkeyutils1 libkrb5-3 libkrb5support0
  libldap-2.5-0 libldap-common libltdl7 libnsl2 libodbc2 libperl5.36
  libsasl2-2 libsasl2-modules libsasl2-modules-db libssl3 libtirpc-common
  libtirpc3 libwrap0 netbase perl perl-modules-5.36 psmisc slapd
0 upgraded, 28 newly installed, 0 to remove and 0 not upgraded.
Need to get 13.0 MB of archives.
After this operation, 66.2 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bookworm/main amd64 perl-modules-5.36 all 5.36.0-7+deb12u1 [2815 kB]
Get:2 http://deb.debian.org/debian bookworm/main amd64 libgdbm6 amd64 1.23-3 [72.2 kB]
Get:3 http://deb.debian.org/debian bookworm/main amd64 libgdbm-compat4 amd64 1.23-3 [48.2 kB]
Get:4 http://deb.debian.org/debian bookworm/main amd64 libperl5.36 amd64 5.36.0-7+deb12u1 [4218 kB]
Get:5 http://deb.debian.org/debian bookworm/main amd64 perl amd64 5.36.0-7+deb12u1 [239 kB]
Get:6 http://deb.debian.org/debian bookworm/main amd64 libargon2-1 amd64 0~20171227-0.3+deb12u1 [19.4 kB]
Get:7 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg-10 [20.3 kB]
Get:8 http://deb.debian.org/debian bookworm/main amd64 libsasl2-2 amd64 2.1.28+dfsg-10 [59.7 kB]
Get:9 http://deb.debian.org/debian bookworm/main amd64 libldap-2.5-0 amd64 2.5.13+dfsg-5 [183 kB]
Get:10 http://deb.debian.org/debian bookworm/main amd64 libltdl7 amd64 2.4.7-5 [393 kB]
Get:11 http://deb.debian.org/debian bookworm/main amd64 libodbc2 amd64 2.3.11-2+deb12u1 [150 kB]
Get:12 http://deb.debian.org/debian bookworm/main amd64 libkrb5support0 amd64 1.20.1-2+deb12u1 [32.4 kB]
Get:13 http://deb.debian.org/debian bookworm/main amd64 libk5crypto3 amd64 1.20.1-2+deb12u1 [78.9 kB]
Get:14 http://deb.debian.org/debian bookworm/main amd64 libkeyutils1 amd64 1.6.3-2 [8808 B]
Get:15 http://deb.debian.org/debian bookworm/main amd64 libssl3 amd64 3.0.11-1~deb12u2 [2019 kB]
Get:16 http://deb.debian.org/debian bookworm/main amd64 libkrb5-3 amd64 1.20.1-2+deb12u1 [332 kB]
Get:17 http://deb.debian.org/debian bookworm/main amd64 libgssapi-krb5-2 amd64 1.20.1-2+deb12u1 [134 kB]
Get:18 http://deb.debian.org/debian bookworm/main amd64 libtirpc-common all 1.3.3+ds-1 [14.0 kB]
Get:19 http://deb.debian.org/debian bookworm/main amd64 libtirpc3 amd64 1.3.3+ds-1 [85.2 kB]
Get:20 http://deb.debian.org/debian bookworm/main amd64 libnsl2 amd64 1.3.0-2 [39.5 kB]
Get:21 http://deb.debian.org/debian bookworm/main amd64 libwrap0 amd64 7.6.q-32 [54.9 kB]
Get:22 http://deb.debian.org/debian bookworm/main amd64 psmisc amd64 23.6-1 [259 kB]
Get:23 http://deb.debian.org/debian bookworm/main amd64 slapd amd64 2.5.13+dfsg-5 [1435 kB]
Get:24 http://deb.debian.org/debian bookworm/main amd64 netbase all 6.4 [12.8 kB]
Get:25 http://deb.debian.org/debian bookworm/main amd64 krb5-locales all 1.20.1-2+deb12u1 [62.7 kB]
Get:26 http://deb.debian.org/debian bookworm/main amd64 ldap-utils amd64 2.5.13+dfsg-5 [144 kB]
Get:27 http://deb.debian.org/debian bookworm/main amd64 libldap-common all 2.5.13+dfsg-5 [29.3 kB]
Get:28 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules amd64 2.1.28+dfsg-10 [66.6 kB]
[91mdebconf: delaying package configuration, since apt-utils is not installed
[0mFetched 13.0 MB in 1s (10.6 MB/s)
Selecting previously unselected package perl-modules-5.36.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 6098 files and directories currently installed.)
Preparing to unpack .../00-perl-modules-5.36_5.36.0-7+deb12u1_all.deb ...
Unpacking perl-modules-5.36 (5.36.0-7+deb12u1) ...
Selecting previously unselected package libgdbm6:amd64.
Preparing to unpack .../01-libgdbm6_1.23-3_amd64.deb ...
Unpacking libgdbm6:amd64 (1.23-3) ...
Selecting previously unselected package libgdbm-compat4:amd64.
Preparing to unpack .../02-libgdbm-compat4_1.23-3_amd64.deb ...
Unpacking libgdbm-compat4:amd64 (1.23-3) ...
Selecting previously unselected package libperl5.36:amd64.
Preparing to unpack .../03-libperl5.36_5.36.0-7+deb12u1_amd64.deb ...
Unpacking libperl5.36:amd64 (5.36.0-7+deb12u1) ...
Selecting previously unselected package perl.
Preparing to unpack .../04-perl_5.36.0-7+deb12u1_amd64.deb ...
Unpacking perl (5.36.0-7+deb12u1) ...
Selecting previously unselected package libargon2-1:amd64.
Preparing to unpack .../05-libargon2-1_0~20171227-0.3+deb12u1_amd64.deb ...
Unpacking libargon2-1:amd64 (0~20171227-0.3+deb12u1) ...
Selecting previously unselected package libsasl2-modules-db:amd64.
Preparing to unpack .../06-libsasl2-modules-db_2.1.28+dfsg-10_amd64.deb ...
Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
Selecting previously unselected package libsasl2-2:amd64.
Preparing to unpack .../07-libsasl2-2_2.1.28+dfsg-10_amd64.deb ...
Unpacking libsasl2-2:amd64 (2.1.28+dfsg-10) ...
Selecting previously unselected package libldap-2.5-0:amd64.
Preparing to unpack .../08-libldap-2.5-0_2.5.13+dfsg-5_amd64.deb ...
Unpacking libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
Selecting previously unselected package libltdl7:amd64.
Preparing to unpack .../09-libltdl7_2.4.7-5_amd64.deb ...
Unpacking libltdl7:amd64 (2.4.7-5) ...
Selecting previously unselected package libodbc2:amd64.
Preparing to unpack .../10-libodbc2_2.3.11-2+deb12u1_amd64.deb ...
Unpacking libodbc2:amd64 (2.3.11-2+deb12u1) ...
Selecting previously unselected package libkrb5support0:amd64.
Preparing to unpack .../11-libkrb5support0_1.20.1-2+deb12u1_amd64.deb ...
Unpacking libkrb5support0:amd64 (1.20.1-2+deb12u1) ...
Selecting previously unselected package libk5crypto3:amd64.
Preparing to unpack .../12-libk5crypto3_1.20.1-2+deb12u1_amd64.deb ...
Unpacking libk5crypto3:amd64 (1.20.1-2+deb12u1) ...
Selecting previously unselected package libkeyutils1:amd64.
Preparing to unpack .../13-libkeyutils1_1.6.3-2_amd64.deb ...
Unpacking libkeyutils1:amd64 (1.6.3-2) ...
Selecting previously unselected package libssl3:amd64.
Preparing to unpack .../14-libssl3_3.0.11-1~deb12u2_amd64.deb ...
Unpacking libssl3:amd64 (3.0.11-1~deb12u2) ...
Selecting previously unselected package libkrb5-3:amd64.
Preparing to unpack .../15-libkrb5-3_1.20.1-2+deb12u1_amd64.deb ...
Unpacking libkrb5-3:amd64 (1.20.1-2+deb12u1) ...
Selecting previously unselected package libgssapi-krb5-2:amd64.
Preparing to unpack .../16-libgssapi-krb5-2_1.20.1-2+deb12u1_amd64.deb ...
Unpacking libgssapi-krb5-2:amd64 (1.20.1-2+deb12u1) ...
Selecting previously unselected package libtirpc-common.
Preparing to unpack .../17-libtirpc-common_1.3.3+ds-1_all.deb ...
Unpacking libtirpc-common (1.3.3+ds-1) ...
Selecting previously unselected package libtirpc3:amd64.
Preparing to unpack .../18-libtirpc3_1.3.3+ds-1_amd64.deb ...
Unpacking libtirpc3:amd64 (1.3.3+ds-1) ...
Selecting previously unselected package libnsl2:amd64.
Preparing to unpack .../19-libnsl2_1.3.0-2_amd64.deb ...
Unpacking libnsl2:amd64 (1.3.0-2) ...
Selecting previously unselected package libwrap0:amd64.
Preparing to unpack .../20-libwrap0_7.6.q-32_amd64.deb ...
Unpacking libwrap0:amd64 (7.6.q-32) ...
Selecting previously unselected package psmisc.
Preparing to unpack .../21-psmisc_23.6-1_amd64.deb ...
Unpacking psmisc (23.6-1) ...
Selecting previously unselected package slapd.
Preparing to unpack .../22-slapd_2.5.13+dfsg-5_amd64.deb ...
Unpacking slapd (2.5.13+dfsg-5) ...
Selecting previously unselected package netbase.
Preparing to unpack .../23-netbase_6.4_all.deb ...
Unpacking netbase (6.4) ...
Selecting previously unselected package krb5-locales.
Preparing to unpack .../24-krb5-locales_1.20.1-2+deb12u1_all.deb ...
Unpacking krb5-locales (1.20.1-2+deb12u1) ...
Selecting previously unselected package ldap-utils.
Preparing to unpack .../25-ldap-utils_2.5.13+dfsg-5_amd64.deb ...
Unpacking ldap-utils (2.5.13+dfsg-5) ...
Selecting previously unselected package libldap-common.
Preparing to unpack .../26-libldap-common_2.5.13+dfsg-5_all.deb ...
Unpacking libldap-common (2.5.13+dfsg-5) ...
Selecting previously unselected package libsasl2-modules:amd64.
Preparing to unpack .../27-libsasl2-modules_2.1.28+dfsg-10_amd64.deb ...
Unpacking libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
Setting up libkeyutils1:amd64 (1.6.3-2) ...
Setting up psmisc (23.6-1) ...
Setting up libtirpc-common (1.3.3+ds-1) ...
Setting up libargon2-1:amd64 (0~20171227-0.3+deb12u1) ...
Setting up libssl3:amd64 (3.0.11-1~deb12u2) ...
Setting up krb5-locales (1.20.1-2+deb12u1) ...
Setting up libldap-common (2.5.13+dfsg-5) ...
Setting up libkrb5support0:amd64 (1.20.1-2+deb12u1) ...
Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
Setting up perl-modules-5.36 (5.36.0-7+deb12u1) ...
Setting up libk5crypto3:amd64 (1.20.1-2+deb12u1) ...
Setting up libltdl7:amd64 (2.4.7-5) ...
Setting up libsasl2-2:amd64 (2.1.28+dfsg-10) ...
Setting up libodbc2:amd64 (2.3.11-2+deb12u1) ...
Setting up netbase (6.4) ...
Setting up libkrb5-3:amd64 (1.20.1-2+deb12u1) ...
Setting up libgdbm6:amd64 (1.23-3) ...
Setting up libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
Setting up libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
Setting up libgssapi-krb5-2:amd64 (1.20.1-2+deb12u1) ...
Setting up libgdbm-compat4:amd64 (1.23-3) ...
Setting up libperl5.36:amd64 (5.36.0-7+deb12u1) ...
Setting up libtirpc3:amd64 (1.3.3+ds-1) ...
Setting up ldap-utils (2.5.13+dfsg-5) ...
Setting up perl (5.36.0-7+deb12u1) ...
Setting up libnsl2:amd64 (1.3.0-2) ...
Setting up libwrap0:amd64 (7.6.q-32) ...
Setting up slapd (2.5.13+dfsg-5) ...
  Creating new user openldap... done.
  Creating initial configuration... done.
  Creating LDAP directory... done.
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of start.
Processing triggers for libc-bin (2.36-9+deb12u3) ...
Removing intermediate container 66df54806d77
 ---> b29f7fe1d81c
Step 4/10 : COPY . .
 ---> 44d0301f8f7d
Step 5/10 : RUN chmod +x start.sh
 ---> Running in 9adf136d9539
Removing intermediate container 9adf136d9539
 ---> 286e70c3026b
Step 6/10 : ENTRYPOINT [ "/bin/bash", "-c", "./start.sh" ]
 ---> Running in 5cbe68a91b78
Removing intermediate container 5cbe68a91b78
 ---> 02a674debce3
Step 7/10 : EXPOSE 389
 ---> Running in 55d44b446d47
Removing intermediate container 55d44b446d47
 ---> f99ff7e299e1
Step 8/10 : EXPOSE 389/udp
 ---> Running in a4a0dfcaeedd
Removing intermediate container a4a0dfcaeedd
 ---> d0dd7e3dec7b
Step 9/10 : EXPOSE 636
 ---> Running in 3a3aa30fcd1b
Removing intermediate container 3a3aa30fcd1b
 ---> a57a5878e3bf
Step 10/10 : EXPOSE 636/udp
 ---> Running in 733b19fc92b5
Removing intermediate container 733b19fc92b5
 ---> bde979a58ee7
Successfully built bde979a58ee7
Successfully tagged ldap_custom:latest
