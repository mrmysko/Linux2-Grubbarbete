Done:
    wp_custom image:
    - Kör alla scripts i /docker.entrypoint/ automatiskt.
    - Bygger en image med Apache, Wordpress och ldap-account-manager.
    - Skapar en wordpress.conf fil och enablear den.
    Apache:
    - TLS on och redirectar till HTTPS på $DOMAIN.
    WP:
    - Genererar och kopplar till MySQL automatiskt via wp-conf.sh
    - Skapar första hemsidan och en admin-användare automatiskt.
    - Aktiverar authldap automatiskt.
    - Hämtar användare från ldap och sätter rollen INITIALT efter grupptillhörighet. (Efter authLdap config)
    MySQL:
    - Officiell Docker image.
    - Skapar en wordpress databas och användare via miljövariabler.
    - Skapar en LAM-config databas med docker-entrypoint-init.b
    OpenLDAP:
    - osixia/open_ldap image.
    - Sätter domän med .env-fil.
    LAM:
    - Kopplar till MySQL och sparar config där.
    Docker-compose:
    - Bygger apache-imagen.
    - Lägger alla containrar på samma nätverk. Länkar containers via containernamn.
    - Mappar portar 80, 389, 443, 636 och 3306.
    - Implementerar secrets för lösenord.
    - Tar miljövariabler från en .env-fil
    - Secrets för lösenord.
    - Skapar namngedda volymer för viktiga mappar.
    Scripts:
    -
    Host:
    -

Todo:

Hur ställer jag in authldap lösenord i wordpress? Jag kan skriva lösen i klartext eller skicka en env variabel, men inte en secret.
Apache imagen kollar inte längre efter senaste wordpress iom att build.sh inte körs längre.
Hårdkoda inte LAM master password i config.cfg och LAM mysql-databasen.
Vad är separationen mellan Dockerfile och entrypoint, vad ska köras vid build resp när containern startar?
authldap ska hämta roll från primary group fältet.(gidNumber)
authldap uppdaterar inte grupptillhörighet om man ändrar grupp i lam.
Göm adminlösen i authldap
TLS på LDAP
Installera/Avinstallera plugins i wp ger nån ftp prompt?
Rensa miljövariabler efter start. Start-scriptet kan skapa en fil den letar efter varje boot, om filen inte finns så vet scriptet att det är första booten och köra igenom första-boot-grejer.
Känsliga variabler i .env stannar som variabler i containers. Och i start.sh i / (splitta start.sh till ett annat script som tar bort sig själv efter första boot.)
Välj port (ldap) 389 med STARTTLS eller (ldaps) 636 med certifikat.
Schemalägg build-script.
Konfigurera ldap plugin automatiskt.
Importera användare till LDAP via script.
SSH-server med nyckelautentisering på host.
Apache server config
Backup-script på host.
 - Backa upp vad? /var/lib/mysql
Containers kör som root...
Subdomäner
IP-tables för att droppa trafik som inte kommer mellan containers.
Fail2Ban på apache, ssh, mysql och openldap.
Let's encrypt

# Tankar
Timezone - Nvm, UTC är standard och bra.
Dumpa LAM och gå på phpLDAPadmin istället? - LAM kräver onödig konfiguration. (phpLDAPadmin suger tho)