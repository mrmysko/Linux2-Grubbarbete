Done:
    wp_custom image:
    - Kör alla scripts i /docker.entrypoint/ automatiskt.
    - Bygger en image med Apache, Wordpress och ldap-account-manager.
    - Skapar en $DOMAIN.conf fil och enablear den.
    Apache:
    - TLS on och redirectar till HTTPS på $DOMAIN.
    WP:
    - Genererar och kopplar till MySQL automatiskt via wp-conf.sh
    - Skapar första hemsidan och en admin-användare automatiskt.
    - Aktiverar authldap automatiskt.
    - Hämtar användare från ldap och sätter rollen INITIALT efter grupptillhörighet. (Efter authLdap config)
    MySQL:
    - Officiell Docker image.
    - Skapar en wordpress databas och användare via miljövariabler.
    - Skapar en LAM-config databas med docker-entrypoint-init.b
    OpenLDAP:
    - osixia/open_ldap image.
    - Sätter domänm admin-user och readonly-user med .env-fil.
    LAM:
    - Kopplar till MySQL och sparar config där.
    Docker-compose:
    - Bygger apache-imagen.
    - Lägger alla containrar på samma nätverk. Länkar containers via containernamn.
    - Mappar portar 80, 389, 443 och 3306.
    - Tar miljövariabler från en .env-fil
    - Secrets för lösenord.
    - Skapar namngedda volymer för viktiga folders.
    Scripts:
    - Backup-script av LDAP som krypterar databasen, och skickar den off-site. (Cronjob)
    - Script för att läsa in en krypterad LDAP-databas.
    Host:
    - OpenSSH-server med nyckelautentisering.

Todo:

Fixa:       Backa upp krypteringsnycklar och ssh-nycklar någonstans.

Fixa:       Installera och konfigurera fail2ban på host.

Problem:    Överallt...var man än vänder sig så är det något som är trasigt.

Problem:    https://github.com/nextcloud/server/issues/2640
            Konverterar man en csv med användare så har dom har ett gidNumber, det är deras primary group.
            Men om användarna inte är med i memberUid i grupperna själva så har dom en primary group men är inte medlemmar i den.
            authLdap letar efter grupptillhörighet i memberUid, så man måste manuellt gå in och lägga till användare i grupper.

Problem:    Lösenord står i klartext på diverse ställen. config.cfg för LAM. authLdap settings. Backup-scripts.

Problem:    Exporterar man LDAP-databasen med readonly-användaren så får man inte med lösenord. Men på nått sätt
            så kan den läsa dom i authLdap.

Problem:    Skript som ligger i entrypoint körs på ny image även om det inte är första boot. (sätt en miljövariabel?)

Problem:    LAM kan inte hitta en användare att logga in med om man sätter LDAP Search istället för en Fixed List. 
            Även om man söker med samma sträng.

Fixa mysql backup-scripts.
Kryptera openldap och mysql uppkopplingar.
ldap mysql config pass ligger öppet i config.cfg filen.
Apache imagen kollar inte längre efter senaste wordpress iom att build.sh inte körs längre.
Hårdkoda inte LAM master password i config.cfg och LAM mysql-databasen.
authldap ska hämta roll från primary group fältet.(gidNumber)
Apache server config
Containers kör som root...
Subdomäner
IP-tables för att droppa trafik som inte kommer mellan containers.
Fail2Ban på apache, ssh, mysql och openldap.
Let's encrypt
Vad gör config-databasen i ldap?

Härda ssh:
- Stäng av root login.
- Stäng av X11 forwarding.
- Stäng av password authentication.
- Byt port (security by obscurity).
- Sätt på nyckelautentisering.

Remote backup:
- Användare på remote-servern som bara har hand om backuper.
- Är chrootad till backup-foldern.
- /bin/false shell och ingen home.
    - Det här förutsätter sftp, men sftp är långsamt.

Vad finns inte backup på:
- SSH-server config.
- Apache-config.
- (Vad är ens önskvärt att ha backup på? Har man databaserna så bygger man ju upp nya system runt dom.)